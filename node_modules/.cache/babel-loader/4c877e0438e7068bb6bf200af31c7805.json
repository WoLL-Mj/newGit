{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _get = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    _again = false;\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        desc = parent = undefined;\n        continue _function;\n      }\n    } else if ('value' in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _rcTrigger = require('rc-trigger');\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nvar _Panel = require('./Panel');\n\nvar _Panel2 = _interopRequireDefault(_Panel);\n\nvar _placements = require('./placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nfunction prevent(e) {\n  e.preventDefault();\n}\n\nvar ColorPicker = function (_React$Component) {\n  _inherits(ColorPicker, _React$Component);\n\n  function ColorPicker(props) {\n    var _this = this;\n\n    _classCallCheck(this, ColorPicker);\n\n    _get(Object.getPrototypeOf(ColorPicker.prototype), 'constructor', this).call(this, props);\n\n    this.state = {\n      color: props.color || props.defaultColor,\n      alpha: props.alpha || props.defaultAlpha,\n      open: false\n    };\n    var events = ['onTriggerClick', 'onChange', 'onBlur', 'getPickerElement', 'getRootDOMNode', 'getTriggerDOMNode', 'onVisibleChange', 'setOpen', 'open', 'close', 'focus'];\n    events.forEach(function (e) {\n      _this[e] = _this[e].bind(_this);\n    });\n    this.savePickerPanelRef = refFn.bind(this, 'pickerPanelInstance');\n    this.saveTriggerRef = refFn.bind(this, 'triggerInstance');\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.color) {\n        this.setState({\n          color: nextProps.color\n        });\n      }\n\n      if (nextProps.alpha) {\n        this.setState({\n          alpha: nextProps.alpha\n        });\n      }\n    }\n  }, {\n    key: 'onTriggerClick',\n    value: function onTriggerClick() {\n      this.setState({\n        open: !this.state.open\n      });\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(colors) {\n      this.setState({\n        color: colors.color,\n        alpha: colors.alpha\n      });\n      this.props.onChange(colors);\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: 'onVisibleChange',\n    value: function onVisibleChange(open) {\n      var _this2 = this;\n\n      this.setOpen(open, function () {\n        if (open) {\n          _reactDom2['default'].findDOMNode(_this2.pickerPanelInstance).focus();\n        }\n      });\n    }\n  }, {\n    key: 'setOpen',\n    value: function setOpen(open, callback) {\n      var _props = this.props;\n      var onOpen = _props.onOpen;\n      var onClose = _props.onClose;\n\n      if (this.state.open !== open) {\n        this.setState({\n          open: open\n        }, callback);\n        var _event = {\n          open: open\n        };\n\n        if (open) {\n          onOpen(_event);\n        } else {\n          onClose(_event);\n        }\n      }\n    }\n  }, {\n    key: 'getRootDOMNode',\n    value: function getRootDOMNode() {\n      return _reactDom2['default'].findDOMNode(this);\n    }\n  }, {\n    key: 'getTriggerDOMNode',\n    value: function getTriggerDOMNode() {\n      return _reactDom2['default'].findDOMNode(this.triggerInstance);\n    }\n  }, {\n    key: 'getPickerElement',\n    value: function getPickerElement() {\n      // const state = this.state;\n      return _react2['default'].createElement(_Panel2['default'], {\n        ref: this.savePickerPanelRef,\n        defaultColor: this.state.color,\n        alpha: this.state.alpha,\n        prefixCls: this.props.prefixCls + '-panel',\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        mode: this.props.mode\n      });\n    }\n  }, {\n    key: 'open',\n    value: function open(callback) {\n      this.setOpen(true, callback);\n    }\n  }, {\n    key: 'close',\n    value: function close(callback) {\n      this.setOpen(false, callback);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (!this.state.open) {\n        _reactDom2['default'].findDOMNode(this).focus();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var state = this.state;\n      var classes = [props.prefixCls];\n\n      if (state.open) {\n        classes.push(props.prefixCls + '-open');\n      }\n\n      var trigger = props.trigger;\n\n      if (trigger) {\n        trigger = _react2['default'].cloneElement(trigger, {\n          ref: this.saveTriggerRef,\n          unselectable: true,\n          style: {\n            opacity: this.state.alpha / 100,\n            backgroundColor: this.state.color\n          },\n          onClick: this.onTriggerClick,\n          onMouseDown: prevent\n        });\n      }\n\n      var prefixCls = props.prefixCls;\n      var placement = props.placement;\n      var style = props.style;\n      var getCalendarContainer = props.getCalendarContainer;\n      var align = props.align;\n      var animation = props.animation;\n      var disabled = props.disabled;\n      var transitionName = props.transitionName;\n      return _react2['default'].createElement('span', {\n        className: classes.join(' ')\n      }, _react2['default'].createElement(_rcTrigger2['default'], {\n        popup: this.getPickerElement(),\n        popupAlign: align,\n        builtinPlacements: _placements2['default'],\n        popupPlacement: placement,\n        action: disabled ? [] : ['click'],\n        destroyPopupOnHide: true,\n        getPopupContainer: getCalendarContainer,\n        popupStyle: style,\n        popupAnimation: animation,\n        popupTransitionName: transitionName,\n        popupVisible: state.open,\n        onPopupVisibleChange: this.onVisibleChange,\n        prefixCls: prefixCls + '-picker'\n      }, trigger));\n    }\n  }]);\n\n  return ColorPicker;\n}(_react2['default'].Component);\n\nexports['default'] = ColorPicker;\nColorPicker.propTypes = {\n  defaultColor: _react.PropTypes.string,\n  defaultAlpha: _react.PropTypes.number,\n  // can custom\n  color: _react.PropTypes.string,\n  alpha: _react.PropTypes.number,\n  onChange: _react.PropTypes.func,\n  onOpen: _react.PropTypes.func,\n  onClose: _react.PropTypes.func,\n  prefixCls: _react.PropTypes.string.isRequired,\n  trigger: _react.PropTypes.node.isRequired,\n  mode: _react.PropTypes.oneOf(['RGB', 'HSL', 'HSB']),\n  placement: _react.PropTypes.oneOf(['topLeft', 'topRight', 'bottomLeft', 'bottomRight']),\n  style: _react.PropTypes.object\n};\nColorPicker.defaultProps = {\n  defaultColor: '#F00',\n  defaultAlpha: 100,\n  onChange: function onChange() {},\n  onOpen: function onOpen() {},\n  onClose: function onClose() {},\n  prefixCls: 'react-colorpicker',\n  trigger: _react2['default'].createElement('span', {\n    className: 'react-colorpicker-trigger'\n  }),\n  placement: 'topLeft',\n  style: {}\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/wanglong/wl/node_modules/react-colors-picker/lib/ColorPicker.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","call","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_react","require","_react2","_reactDom","_reactDom2","_rcTrigger","_rcTrigger2","_Panel","_Panel2","_placements","_placements2","refFn","field","component","prevent","e","preventDefault","ColorPicker","_React$Component","_this","state","color","defaultColor","alpha","defaultAlpha","open","events","forEach","bind","savePickerPanelRef","saveTriggerRef","componentWillReceiveProps","nextProps","setState","onTriggerClick","onChange","colors","onBlur","onVisibleChange","_this2","setOpen","findDOMNode","pickerPanelInstance","focus","callback","_props","onOpen","onClose","_event","getRootDOMNode","getTriggerDOMNode","triggerInstance","getPickerElement","createElement","ref","prefixCls","mode","close","render","classes","push","trigger","cloneElement","unselectable","style","opacity","backgroundColor","onClick","onMouseDown","placement","getCalendarContainer","align","animation","disabled","transitionName","className","join","popup","popupAlign","builtinPlacements","popupPlacement","action","destroyPopupOnHide","getPopupContainer","popupStyle","popupAnimation","popupTransitionName","popupVisible","onPopupVisibleChange","Component","propTypes","PropTypes","string","number","func","isRequired","node","oneOf","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _rcTrigger = require('rc-trigger');\n\nvar _rcTrigger2 = _interopRequireDefault(_rcTrigger);\n\nvar _Panel = require('./Panel');\n\nvar _Panel2 = _interopRequireDefault(_Panel);\n\nvar _placements = require('./placements');\n\nvar _placements2 = _interopRequireDefault(_placements);\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nfunction prevent(e) {\n  e.preventDefault();\n}\n\nvar ColorPicker = (function (_React$Component) {\n  _inherits(ColorPicker, _React$Component);\n\n  function ColorPicker(props) {\n    var _this = this;\n\n    _classCallCheck(this, ColorPicker);\n\n    _get(Object.getPrototypeOf(ColorPicker.prototype), 'constructor', this).call(this, props);\n\n    this.state = {\n      color: props.color || props.defaultColor,\n      alpha: props.alpha || props.defaultAlpha,\n      open: false\n    };\n\n    var events = ['onTriggerClick', 'onChange', 'onBlur', 'getPickerElement', 'getRootDOMNode', 'getTriggerDOMNode', 'onVisibleChange', 'setOpen', 'open', 'close', 'focus'];\n\n    events.forEach(function (e) {\n      _this[e] = _this[e].bind(_this);\n    });\n\n    this.savePickerPanelRef = refFn.bind(this, 'pickerPanelInstance');\n    this.saveTriggerRef = refFn.bind(this, 'triggerInstance');\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.color) {\n        this.setState({\n          color: nextProps.color\n        });\n      }\n      if (nextProps.alpha) {\n        this.setState({\n          alpha: nextProps.alpha\n        });\n      }\n    }\n  }, {\n    key: 'onTriggerClick',\n    value: function onTriggerClick() {\n      this.setState({\n        open: !this.state.open\n      });\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(colors) {\n      this.setState({\n        color: colors.color,\n        alpha: colors.alpha\n      });\n      this.props.onChange(colors);\n    }\n  }, {\n    key: 'onBlur',\n    value: function onBlur() {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: 'onVisibleChange',\n    value: function onVisibleChange(open) {\n      var _this2 = this;\n\n      this.setOpen(open, function () {\n        if (open) {\n          _reactDom2['default'].findDOMNode(_this2.pickerPanelInstance).focus();\n        }\n      });\n    }\n  }, {\n    key: 'setOpen',\n    value: function setOpen(open, callback) {\n      var _props = this.props;\n      var onOpen = _props.onOpen;\n      var onClose = _props.onClose;\n\n      if (this.state.open !== open) {\n        this.setState({\n          open: open\n        }, callback);\n        var _event = {\n          open: open\n        };\n        if (open) {\n          onOpen(_event);\n        } else {\n          onClose(_event);\n        }\n      }\n    }\n  }, {\n    key: 'getRootDOMNode',\n    value: function getRootDOMNode() {\n      return _reactDom2['default'].findDOMNode(this);\n    }\n  }, {\n    key: 'getTriggerDOMNode',\n    value: function getTriggerDOMNode() {\n      return _reactDom2['default'].findDOMNode(this.triggerInstance);\n    }\n  }, {\n    key: 'getPickerElement',\n    value: function getPickerElement() {\n      // const state = this.state;\n      return _react2['default'].createElement(_Panel2['default'], {\n        ref: this.savePickerPanelRef,\n        defaultColor: this.state.color,\n        alpha: this.state.alpha,\n        prefixCls: this.props.prefixCls + '-panel',\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        mode: this.props.mode\n      });\n    }\n  }, {\n    key: 'open',\n    value: function open(callback) {\n      this.setOpen(true, callback);\n    }\n  }, {\n    key: 'close',\n    value: function close(callback) {\n      this.setOpen(false, callback);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (!this.state.open) {\n        _reactDom2['default'].findDOMNode(this).focus();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var state = this.state;\n      var classes = [props.prefixCls];\n      if (state.open) {\n        classes.push(props.prefixCls + '-open');\n      }\n\n      var trigger = props.trigger;\n\n      if (trigger) {\n        trigger = _react2['default'].cloneElement(trigger, {\n          ref: this.saveTriggerRef,\n          unselectable: true,\n          style: {\n            opacity: this.state.alpha / 100,\n            backgroundColor: this.state.color\n          },\n          onClick: this.onTriggerClick,\n          onMouseDown: prevent\n        });\n      }\n\n      var prefixCls = props.prefixCls;\n      var placement = props.placement;\n      var style = props.style;\n      var getCalendarContainer = props.getCalendarContainer;\n      var align = props.align;\n      var animation = props.animation;\n      var disabled = props.disabled;\n      var transitionName = props.transitionName;\n\n      return _react2['default'].createElement(\n        'span',\n        { className: classes.join(' ') },\n        _react2['default'].createElement(\n          _rcTrigger2['default'],\n          { popup: this.getPickerElement(),\n            popupAlign: align,\n            builtinPlacements: _placements2['default'],\n            popupPlacement: placement,\n            action: disabled ? [] : ['click'],\n            destroyPopupOnHide: true,\n            getPopupContainer: getCalendarContainer,\n            popupStyle: style,\n            popupAnimation: animation,\n            popupTransitionName: transitionName,\n            popupVisible: state.open,\n            onPopupVisibleChange: this.onVisibleChange,\n            prefixCls: prefixCls + '-picker' },\n          trigger\n        )\n      );\n    }\n  }]);\n\n  return ColorPicker;\n})(_react2['default'].Component);\n\nexports['default'] = ColorPicker;\n\nColorPicker.propTypes = {\n  defaultColor: _react.PropTypes.string,\n  defaultAlpha: _react.PropTypes.number,\n  // can custom\n  color: _react.PropTypes.string,\n  alpha: _react.PropTypes.number,\n  onChange: _react.PropTypes.func,\n  onOpen: _react.PropTypes.func,\n  onClose: _react.PropTypes.func,\n  prefixCls: _react.PropTypes.string.isRequired,\n  trigger: _react.PropTypes.node.isRequired,\n  mode: _react.PropTypes.oneOf(['RGB', 'HSL', 'HSB']),\n  placement: _react.PropTypes.oneOf(['topLeft', 'topRight', 'bottomLeft', 'bottomRight']),\n  style: _react.PropTypes.object\n};\n\nColorPicker.defaultProps = {\n  defaultColor: '#F00',\n  defaultAlpha: 100,\n  onChange: function onChange() {},\n  onOpen: function onOpen() {},\n  onClose: function onClose() {},\n  prefixCls: 'react-colorpicker',\n  trigger: _react2['default'].createElement('span', { className: 'react-colorpicker-trigger' }),\n  placement: 'topLeft',\n  style: {}\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}